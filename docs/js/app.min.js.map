{"version":3,"file":"app.min.js","sources":["../../src/js/_helpers.js","../../src/js/_queries.js","../../src/js/_scales.js","../../src/js/_icons.js","../../src/js/_conversions.js","../../src/js/_datetime.js","../../src/js/_strings.js","../../src/js/components/_hud.js","../../src/js/components/_forecast.js","../../src/js/components/_details.js","../../src/js/_moonPhases.js","../../src/js/_darkmode-toggle.js","../../src/js/app.js","../../src/js/components/_errors.js"],"sourcesContent":["/**\n * Sanitise incoming API data\n *\n * @param {string} [sDirty='']\n * @returns {string} sanitised text\n */\nexport const fClean = function (sDirty = '') {\n    if (typeof sDirty === 'number') return sDirty\n    if (!sDirty) return\n\n    const temp = document.createElement('div')\n    temp.innerHTML = sDirty\n    return temp.innerText\n}\n","import { fClean } from './_helpers'\n\n/**\n * IP address based location API\n *\n * @returns {object} coordiantes object\n */\nexport const fIPapi = async function (sIpapiLocationApi) {\n    const pResp = await fetch(sIpapiLocationApi).then(function (pResp) {\n        if (pResp.ok) {\n            return pResp.json()\n        } else {\n            return Promise.reject(pResp)\n        }\n    })\n    return await pResp\n}\n\n/**\n * Assembles the formatted query string for CF API requests\n *\n * @param {string} urlBase\n * @param {obj} oLoc Response from oLocation API\n * @returns {string} Assembled url with query (cleaned)\n */\nexport const fAssembledQuery = function (urlBase, oLoc, _oSettings) {\n    if (!oLoc) return\n\n    let sApiQuery = `${urlBase}&lat=${oLoc.latitude}&lon=${oLoc.longitude}`\n\n    if (!oLoc.latitude || !oLoc.longitude) {\n        let sCity\n        let sState\n        let sCountry = ''\n\n        if ('city' in oLoc && oLoc.city) {\n            sCity = `&city=${oLoc.city}`\n        }\n        if ('state' in oLoc && oLoc.state) {\n            sState = `&state=${oLoc.state}`\n        }\n        if ('country' in oLoc && oLoc.country_code) {\n            sCountry = `&country=${oLoc.country_code}`\n        }\n\n        sApiQuery = `${urlBase}${sCity ?? ''}${sState ?? ''}${sCountry ?? ''}`\n    }\n\n    if (_oSettings.debug) {\n        console.log('sApiQuery query:', fClean(sApiQuery))\n    }\n\n    return fClean(sApiQuery)\n}\n\n/**\n * Browser based location API\n *\n * @returns {object} coordiantes object\n */\nconst fGeoLocApi = async function () {\n    const oOptions = {\n        enableHighAccuracy: false,\n        timeout: 5000,\n        maximumAge: 0,\n    }\n\n    const pResp = new Promise(function (resolve, reject) {\n        navigator.geolocation.getCurrentPosition(\n            function (pResp) {\n                resolve(pResp.coords)\n            },\n            function (pResp) {\n                reject(pResp)\n            },\n            oOptions\n        )\n    })\n    return await pResp\n}\n\n/**\n * Gets the user location\n *\n * @param {string} [section='home']\n */\nexport const fGetLocation = async function (sIpapiLocationApi, _oSettings) {\n    if (navigator.geolocation) {\n        try {\n            if (_oSettings.debug) {\n                console.log(\n                    'fGetLocation: Checking geoLoccation API: fGeoLocApi.'\n                )\n            }\n            return await fGeoLocApi()\n        } catch (e) {\n            if (_oSettings.debug) {\n                console.warn('fGetLocationL: failed using fGeoLocApi: ', e)\n            }\n            try {\n                if (_oSettings.debug) {\n                    console.warn('Falling back to IP address lookup instead.')\n                }\n                return await fIPapi(sIpapiLocationApi)\n            } catch (e) {\n                if (_oSettings.debug) {\n                    console.warn('fGetLocation: failed sIpapiLocationApi: ', e)\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fetch the weather for a user's location.\n *\n * @param {object} oLoc\n * @returns {object} weather object\n */\nexport const fGetWeather = async function (oLoc, sWeatherApi, _oSettings) {\n    const pResp = await fetch(\n        fAssembledQuery(sWeatherApi, oLoc, _oSettings)\n    ).then(function (pResp) {\n        if (pResp.ok) {\n            return pResp.json()\n        } else {\n            return Promise.reject(pResp)\n        }\n    })\n    return await pResp\n}\n","/**\n * Generate a visual scale based on 5km\n *\nno * @param {float} vis (expects km units)\n *\n */\nexport const fSetVisabilityScale = function (vis) {\n    const distance = (parseFloat(vis) / 5) * 100\n    const nGraph = document.querySelector('.distance')\n    nGraph.style.setProperty('--distance', 100 - distance + '%')\n}\n\n/**\n * Assigns a named string based on temperature in C\n * 6 step scale for data-temp\n *\n * @param {float} nTemp\n * @returns {string}   string\n */\nexport const fTempDataPt = function (nTemp) {\n    if (typeof nTemp !== 'number') return 0\n\n    nTemp = parseFloat(nTemp)\n\n    let sTempScale = 'none'\n    switch (nTemp) {\n        case nTemp <= 0 ? nTemp : null:\n            sTempScale = 0\n            break\n        case nTemp >= 0 && nTemp < 10 ? nTemp : null:\n            sTempScale = 1\n            break\n        case nTemp >= 10 && nTemp < 22 ? nTemp : null:\n            sTempScale = 2\n            break\n        case nTemp >= 22 && nTemp < 27 ? nTemp : null:\n            sTempScale = 3\n            break\n        case nTemp >= 27 && nTemp < 34 ? nTemp : null:\n            sTempScale = 4\n            break\n        case nTemp >= 34 ? nTemp : null:\n            sTempScale = 5\n            break\n    }\n    return sTempScale\n}\n\n/**\n * Takes a UV float value and returns an int for CSS data-UV=\"*\" selectors.\n *\n * @param {float} nUV\n * @returns {int}  whole int value on  6 step scale\n */\nexport const fUvDataPt = function (nUV) {\n    if (!nUV) return\n    nUV = parseFloat(nUV)\n\n    let sUVclass = 'none'\n    switch (nUV) {\n        case nUV < 1 ? nUV : null:\n            sUVclass = '0'\n            break\n        case nUV >= 1 && nUV < 3 ? nUV : null:\n            sUVclass = '1'\n            break\n        case nUV >= 3 && nUV < 5 ? nUV : null:\n            sUVclass = '2'\n            break\n        case nUV >= 5 && nUV < 7 ? nUV : null:\n            sUVclass = '3'\n            break\n        case nUV >= 7 && nUV < 9 ? nUV : null:\n            sUVclass = '4'\n            break\n        case nUV >= 9 || nUV <= 10 ? nUV : null:\n            sUVclass = 5\n            break\n    }\n    return sUVclass\n}\n","import { fClean } from './_helpers'\n\nexport const oWeather = {\n    200: ['wi-day-thunderstorm', 'wi-night-alt-thunderstorm'],\n    201: ['wi-day-thunderstorm', 'wi-night-alt-thunderstorm'],\n    202: ['wi-day-thunderstorm', 'wi-night-alt-thunderstorm'],\n    230: ['wi-day-thunderstorm', 'wi-night-alt-thunderstorm'],\n    231: ['wi-day-thunderstorm', 'wi-night-alt-thunderstorm'],\n    232: ['wi-day-thunderstorm', 'wi-night-alt-thunderstorm'],\n    233: ['wi-day-thunderstorm', 'wi-night-alt-thunderstorm'],\n    300: ['wi-day-rain', 'wi-night-alt-rain'],\n    301: ['wi-day-rain', 'wi-night-alt-rain'],\n    302: ['wi-day-rain', 'wi-night-alt-rain'],\n    500: ['wi-day-rain', 'wi-night-alt-rain'],\n    501: ['wi-day-rain', 'wi-night-alt-rain'],\n    502: ['wi-day-rain-wind', 'wi-night-alt-rain-wind'],\n    511: ['wi-day-sleet', 'wi-night-alt-sleet'],\n    520: ['wi-day-showers', 'wi-night-alt-showers'],\n    521: ['wi-day-showers', 'wi-night-alt-showers'],\n    522: ['wi-day-rain', 'wi-night-alt-rain'],\n    600: ['wi-day-snow', 'wi-night-alt-snow'],\n    602: ['wi-day-snow', 'wi-night-alt-snow'],\n    610: ['wi-day-snow-thunderstorm', 'wi-night-alt-snow-thunderstorm'],\n    611: ['wi-day-snow-wind', 'wi-night-alt-snow-wind'],\n    612: ['wi-day-snow-wind', 'wi-night-alt-snow-wind'],\n    622: ['wi-day-snow-thunderstorm', 'wi-night-alt-snow-thunderstorm'],\n    623: ['wi-day-snow', 'wi-night-alt-snow'],\n    700: ['wi-day-fog', 'wi-night-fog'],\n    711: ['wi-day-fog', 'wi-night-fog'],\n    721: ['wi-day-fog', 'wi-night-fog'],\n    731: ['wi-day-fog', 'wi-night-fog'],\n    741: ['wi-day-fog', 'wi-night-fog'],\n    751: ['wi-day-fog', 'wi-night-fog'],\n    800: ['wi-day-sunny', 'wi-night-clear'],\n    801: ['wi-day-cloudy', 'wi-night-alt-cloudy'],\n    802: ['wi-day-cloudy-high', 'wi-night-alt-cloudy-high'],\n    803: ['wi-day-cloudy-high', 'wi-night-partly-cloudy'],\n    804: ['wi-cloudy', 'wi-cloudy'],\n    900: ['wi-rain-mix', 'wi-rain-mix'],\n}\n\nexport const oCloudCover = {\n    0: ['wi-day-sunny', 'wi-night-clear'],\n    1: ['wi-day-cloudy-high', 'wi-night-alt-cloudy-high'],\n    2: ['wi-day-sunny-overcast', 'wi-night-partly-cloudy'],\n    3: ['wi-cloud', 'wi-cloud'],\n    4: ['wi-cloudy', 'wi-cloudy'],\n    5: ['dark-cloudy', 'dark-cloudy'],\n}\n\n/**\n * Returns the string name of the weather icon\n *\n * @param {object} oData Either the current, daily, or iHourly forecast weather object\n * @param {string || int} [iHour]\n * @returns string\n */\nexport const fGetWeatherIcon = function (oData, iHour) {\n    if (!oData) return\n\n    let iCode, sPod\n    if (!iHour && Object.prototype.hasOwnProperty.call(oData, 'pod')) {\n        // Current weather object\n        sPod = fClean(oData.sPod) === 'd' ? 0 : 1\n        iCode = parseInt(fClean(oData.weather.code))\n    } else if ('hour' in oData) {\n        // Forcast weather object (hourly)\n        sPod = fClean(oData[iHour].sPod) === 'd' ? 0 : 1\n        iCode = parseInt(fClean(oData[iHour].weather.code))\n    } else {\n        // Forcast weather object (days)\n        sPod = 1\n        iCode = parseInt(fClean(oData.weather.code))\n    }\n    return oWeather[iCode][sPod]\n}\n\n/**\n * Select the cloud iCoverage icon based on percentage value\n *\n * @param {int} iCoverage A percentage figure 0-100\n * @param {string} sPod Point of Day\n * @returns {string} the string name of the icon\n */\nexport const fGetCloudCoverIcon = function (iCoverage, sPod = 'd') {\n    if (typeof iCoverage !== 'number') return\n\n    // set day or night icon set\n    sPod = sPod === 'd' ? 0 : 1\n\n    const icons = oCloudCover\n\n    iCoverage = parseInt(iCoverage)\n\n    let aIconData = ''\n\n    switch (iCoverage) {\n        case iCoverage >= 0 && iCoverage < 16 ? iCoverage : null:\n            aIconData = [icons[0][sPod], 0]\n            break\n        case iCoverage >= 16 && iCoverage < 32 ? iCoverage : null:\n            aIconData = [icons[1][sPod], 1]\n            break\n        case iCoverage >= 32 && iCoverage < 48 ? iCoverage : null:\n            aIconData = [icons[2][sPod], 2]\n            break\n        case iCoverage >= 48 && iCoverage < 65 ? iCoverage : null:\n            aIconData = [icons[3][sPod], 3]\n            break\n        case iCoverage >= 65 && iCoverage < 83 ? iCoverage : null:\n            aIconData = [icons[4][sPod], 4]\n            break\n        case iCoverage >= 83 && iCoverage <= 100 ? iCoverage : null:\n            aIconData = [icons[5][sPod], 5]\n            break\n    }\n    aIconData.push(\n        document.querySelector(`#svgs .svg-${aIconData[0]}`).outerHTML\n    )\n\n    return aIconData\n}\n\n/**\n * Takes a string based representation of a DOM element, and adds inline style and/or data-* attributes to it.\n *\n * @param {string} sEl\n * @param {object} props\n * @returns {string}\n *\n * The props object may contain a top level `style` propery for inline css string\n * and or a `data` object which will be mapped to data-* attributes on the element.\n *\n *  `<span class=\"inline-icon\">\n *    ${Icons.fSetStringElAttrs(oIcons.sWindDirection, {\n *        style: `transform: rotate(${sWindDeg}deg)`,\n *        class: 'some-class',\n *        data: { temp: '6' },\n *    })}\n *  </span>`\n */\n\nexport const fSetStringElAttrs = function (sEl, props = {}) {\n    if ('content' in document.createElement('template')) {\n        const nEl = document.createElement('div')\n        nEl.innerHTML = sEl.trim()\n        const nTarget = nEl.querySelector('div >:first-child')\n\n        if (Object.prototype.hasOwnProperty.call(props, 'style')) {\n            nTarget.setAttribute('style', props.style)\n        }\n        if (Object.prototype.hasOwnProperty.call(props, 'class')) {\n            nTarget.classList.add(props.class)\n        }\n        if (\n            Object.prototype.hasOwnProperty.call(props, 'data') &&\n            Object.keys(props.data).length > 0\n        ) {\n            Object.keys(props.data).map((key) =>\n                nTarget.setAttribute(`data-${key}`, props.data[key])\n            )\n        }\n        return nEl.innerHTML\n    }\n    return ''\n}\n","/**\n * *NOTE: the API has params for both imperial and metric units, however,\n * we do the conversion ourselves so that we can switch without additional api calls.\n */\n\n/**\n * mm/hr to inch/hr\n *\n * @param {float} nMeasure\n * @returns {string} converted measurement as string with units\n */\nexport const fPercip = function (nMeasure, _oSettings) {\n    if (typeof nMeasure !== 'number' && _oSettings.debug) {\n        console.warn(\n            `fPercip recieved a non numeric value: ${nMeasure} typeof: ${typeof nMeasure}`\n        )\n    }\n    if (nMeasure === 0) {\n        return nMeasure\n    }\n\n    if (_oSettings.units === 'M') {\n        return `${parseFloat(nMeasure).toFixed(2)}&nbsp;mm/hr`\n    } else {\n        return `${(parseFloat(nMeasure) * 0.0393701).toFixed(2)}&nbsp;inch/hr`\n    }\n}\n\n/**\n * C to F conversion\n *\n * @param {float} nMeasure\n * @returns {string || number} converted tepm as string with units, or as a Float\n */\nexport const fTemp = function (nMeasure, _oSettings, withUnits = true) {\n    if (typeof nMeasure !== 'number' && _oSettings.debug) {\n        console.warn(\n            `fTemp recieved a non numeric value: ${nMeasure} typeof: ${typeof nMeasure}`\n        )\n    }\n    if (typeof nMeasure !== 'number') return 0\n    if (_oSettings.units === 'M') {\n        const converted = parseFloat(nMeasure).toFixed(1)\n        return withUnits ? `${converted}°&nbsp;C` : converted\n    } else {\n        const converted = ((parseFloat(nMeasure) * 9) / 5 + 32).toFixed(1)\n        return withUnits ? `${converted}°&nbsp;F` : converted\n    }\n}\n\n/**\n * km/hr to mi/hr\n *\n * @param {float} nMeasure\n * @returns {string} converted wind speed as string with units\n */\nexport const fKmPerHour = function (nMeasure, _oSettings) {\n    if (typeof nMeasure !== 'number' && _oSettings.debug) {\n        console.warn(\n            `fKmPerHour recieved a non numeric value: ${nMeasure} typeof: ${typeof nMeasure}`\n        )\n    }\n    if (typeof nMeasure !== 'number') return 0\n\n    if (_oSettings.units === 'M') {\n        return `${(parseFloat(nMeasure) * 3.6000059687997).toFixed(\n            2\n        )}&nbsp;km/hr`\n    } else {\n        return `${(parseFloat(nMeasure) * 2.23694).toFixed(2)}&nbsp;mi/hr`\n    }\n}\n\n/**\n * km to mi\n *\n * @param {float} nMeasure\n * @returns {string} converted distance as string with units\n */\nexport const fKm = function (nMeasure, _oSettings) {\n    if (typeof nMeasure !== 'number' && _oSettings.debug) {\n        console.warn(\n            `fKm recieved a non numeric value: ${nMeasure} typeof: ${typeof nMeasure}`\n        )\n    }\n\n    if (typeof nMeasure !== 'number') return 0\n    if (_oSettings.units === 'M') {\n        return `${parseFloat(nMeasure).toFixed(2)}&nbsp;km`\n    } else {\n        return `${(parseFloat(nMeasure) * 0.621371).toFixed(2)}&nbsp;miles`\n    }\n}\n","/**\n * Possible Weatherbit.io date responses via our Cloudflare Worker:\n *\n * 1) CURRENT.data[0].ob_time: \"2021-06-30 18:58\" <- the space will throw an errror on safari\n * 2) CURRENT.data[0].datetime: \"2021-06-30:19\" <- will not convert to valid date object\n * 3) DAILY.data[x].datetime: \"2021-06-30\"\n * 4) DAILY.data[x].valid_date: \"2021-06-30\"\n */\n\n/**\n * A helper to ensure that date strings from API are translated into the correct local time and not UTC\n * Dates without a time (as we have from the Weather.io API) may be converted to an invalid date by Chrome\n * https://css-tricks.com/everything-you-need-to-know-about-date-in-javascript/\n * API:\n *\n * TODO: A regex for different valid date patterns might be a more robust solution, however in this case we trust the API to be consistant.\n *\n * @param {string} sDate\n * @returns {string} date as string with time component\n */\nfunction fAddTimeToDateString(sDate) {\n    // If we have recieved ob_time, repalce the space with a 'T'\n    if (sDate.length >= 16) return sDate.replace(' ', 'T')\n\n    // Will produce a string that can be converted into a valid date object\n    const sNewDate = `${sDate}T00:00`\n    const oDate = new Date(sNewDate)\n\n    // test to see if we now have string which creates a valid date\n    if (typeof oDate.getMonth !== 'function') {\n        throw new Error(\n            `fAddTimeToDateString not provided a string that can be converted to a valid date: \"${sDate}:`\n        )\n    }\n\n    // return the new date string vaild for cases 2, 3, and 4)\n    return sNewDate\n}\n\n/**\n * 24H to 12H conversion based on _oSettings.units = I or M\n * https://stackoverflow.com/a/58878443/362445\n *\n * @param {string} sTime24\n * @param {object} _oSettings\n * @returns {string} converted time as string with units\n */\nexport const fTime = function (sTime24, _oSettings) {\n    if (!sTime24.includes(':') || !sTime24.length === '5') {\n        throw new Error('fTime not given a valid time string: HH:MM')\n    }\n\n    if (_oSettings.units === 'M') return sTime24\n    console.log('sTime24', `${sTime24}`)\n    console.log('sTime24 length', `${sTime24.length}`)\n\n    const [sHours, minutes] = sTime24.match(/([0-9]{1,2}):([0-9]{2})/).slice(1)\n    const period = +sHours < 12 ? 'AM' : 'PM'\n    const hours = +sHours % 12 || 12\n\n    return `${hours}:${minutes}&nbsp;${period}`\n}\n\n/**\n * UTC time provided by API into the local time of the users system.\n * If no date or time are provided, then the current datetime is returned\n *\n * @param {string} sDate (optional)\n * @param {object} _oSettings\n * @param {string} sTime24 (optional)\n * @returns {string} Time as string\n */\nexport const fGetLocalTime = function (sDate = '', _oSettings, sTime24 = '') {\n    let oDate, aTime\n    console.log('sDate', sDate)\n    if (sDate !== '') {\n        oDate = new Date(fAddTimeToDateString(sDate))\n    } else {\n        oDate = new Date()\n    }\n    if (sTime24 !== '') {\n        aTime = sTime24.split(':')\n    } else {\n        aTime = [oDate.getUTCHours(), oDate.getUTCMinutes()]\n    }\n    const aDate = [\n        oDate.getUTCFullYear(),\n        oDate.getUTCMonth(),\n        oDate.getUTCDate(),\n        aTime[0],\n        aTime[1],\n    ]\n\n    const oDateUtc = new Date(Date.UTC(...aDate))\n\n    if (_oSettings.debug === true) {\n        console.log('fGetLocalTime provided sTime24: ', sTime24)\n        console.log(\n            'fGetLocalTime UTC converted time:',\n            `${oDateUtc.getHours()}:${oDateUtc.getMinutes()}`\n        )\n    }\n    console.log(oDate)\n    return fTime(\n        `${oDateUtc.getHours()}`.padStart(2, '0') +\n            ':' +\n            `${oDateUtc.getMinutes()}`.padStart(2, '0'),\n        _oSettings\n    )\n}\n\n/**\n * Format date string to abreviated weekday name\n *\n * @param {string} sDate, valid date string\n * @returns {string}\n */\nexport const fGetWeekday = function (sDate) {\n    const oDate = new Date(fAddTimeToDateString(sDate))\n\n    // test our oDate object\n    if (!oDate || typeof oDate.getMonth !== 'function') {\n        throw new Error('fGetWeekday provided invalid date')\n    }\n\n    return oDate.toLocaleString('default', { weekday: 'short' })\n}\n\n/**\n * Format date string to weekday ordinal number (string)\n *\n * @param {string} sDate\n * @returns string, weekday ordinal number\n */\nexport const fGetDayOrdinal = function (sDate) {\n    const oDate = new Date(fAddTimeToDateString(sDate))\n\n    // test our date object\n    if (!oDate || typeof oDate.getMonth !== 'function') {\n        throw new Error('fFormatDayOrdinal provided invalid date')\n    }\n\n    const sFormatedDate =\n        oDate.getDate() +\n        (oDate.getDate() % 10 === 1 && oDate.getDate() !== 11\n            ? 'st'\n            : oDate.getDate() % 10 === 2 && oDate.getDate() !== 12\n            ? 'nd'\n            : oDate.getDate() % 10 === 3 && oDate.getDate() !== 13\n            ? 'rd'\n            : 'th')\n    return sFormatedDate\n}\n","import * as Convert from './_conversions'\nimport * as Dates from './_datetime'\nimport { fClean } from './_helpers'\n\nconst _oTextStrings = {\n    en: {\n        now: 'Currently: ',\n        aira_now: 'The weather is currently: ',\n        feels_like: 'Feels Like:',\n        uv: 'UV:',\n        cloud: 'Cloud:',\n        snow: 'Snow:',\n        percip: 'Rain:',\n        wind: 'Wind:',\n        aira_winds: 'Winds traveling at',\n        aira_winds_join: 'from the',\n        vis: 'Visibility:',\n        sun: 'Sun:',\n        moon: 'Moon:',\n    },\n}\n\n/**\n * Perform string replacement for strings in the HUD component.\n *\n * @param {string} string\n * @param {object} _oData\n * @param {object} _oSettings\n * @returns {string} Formatted string\n */\nexport const fHUDstr = function (\n    string,\n    _oData,\n    _oSettings,\n    _oStrings = _oTextStrings\n) {\n    const oCURRENT = _oData.CURRENT.data[0]\n\n    if (!string) return ''\n    return (\n        string\n            // HUD\n            .replace('{{now}}', _oStrings.en.now)\n            .replace(\n                '{{aira_weather_description}}',\n                `${_oStrings.en.aira_now} ${fClean(\n                    oCURRENT.weather.description\n                )}`\n            )\n            .replace(\n                '{{weather_description}}',\n                fClean(oCURRENT.weather.description).toLowerCase()\n            )\n            .replace(\n                '{{temp}}',\n                Convert.fTemp(fClean(oCURRENT.temp), _oSettings)\n            )\n            .replace('{{city}}', fClean(oCURRENT.city_name))\n            .replace('{{country}}', fClean(oCURRENT.country_code))\n    )\n}\n\n/**\n * Perform string replacement for strings in the details component.\n *\n * @param {string} string\n * @param {object} _oData\n * @param {object} _oSettings\n * @returns {string} Formatted string\n */\nexport const fDetsStr = function (\n    string,\n    _oData,\n    _oSettings,\n    _oStrings = _oTextStrings\n) {\n    const oCURRENT = _oData.CURRENT.data[0]\n\n    if (!string) return ''\n    return (\n        string\n            // Details\n            .replace('{{feels_like}}', _oStrings.en.feels_like)\n            .replace(\n                '{{app_temp}}',\n                Convert.fTemp(fClean(oCURRENT.app_temp), _oSettings)\n            )\n            .replace('{{uv}}', _oStrings.en.uv)\n            .replace('{{uv_index}}', fClean(oCURRENT.uv.toFixed(2)))\n\n            .replace('{{cloud}}', _oStrings.en.cloud)\n            .replace('{{cloud_percent}}', `${fClean(oCURRENT.clouds)}%`)\n            .replace('{{snow}}', _oStrings.en.snow)\n            .replace(\n                '{{snow_percip}}',\n                Convert.fPercip(fClean(oCURRENT.snow), _oSettings)\n            )\n            .replace('{{rain}}', _oStrings.en.percip)\n            .replace(\n                '{{rain_percip}}',\n                Convert.fPercip(fClean(oCURRENT.precip), _oSettings)\n            )\n            .replace('{{aira_winds}}', _oStrings.en.aira_winds)\n            .replace('{{aira_winds_join}}', _oStrings.en.aira_winds_join)\n\n            .replace('{{wind}}', _oStrings.en.wind)\n            .replace(\n                '{{wind_speed}}',\n                Convert.fKmPerHour(fClean(oCURRENT.wind_spd), _oSettings)\n            )\n            .replace('{{wind_direction}}', fClean(oCURRENT.wind_cdir))\n            .replace('{{vis}}', _oStrings.en.vis)\n            .replace(\n                '{{vis_distance}}',\n                Convert.fKm(fClean(oCURRENT.vis), _oSettings)\n            )\n            .replace('{{sun_rise_set}}', _oStrings.en.sun)\n            .replace(\n                '{{sun_rise}}',\n                Dates.fGetLocalTime(\n                    fClean(oCURRENT.ob_time),\n                    _oSettings,\n                    fClean(oCURRENT.sunrise)\n                )\n            )\n            .replace(\n                '{{sun_set}}',\n                Dates.fGetLocalTime(\n                    fClean(oCURRENT.ob_time),\n                    _oSettings,\n                    fClean(oCURRENT.sunset)\n                )\n            )\n            .replace('{{moon}}', _oStrings.en.moon)\n    )\n}\n","import { fGetWeatherIcon } from '../_icons'\nimport { fTempDataPt } from '../_scales'\nimport { fHUDstr } from '../_strings'\nimport { fClean } from '../_helpers'\n\n/**\n * Renders the app's header\n *\n * @param {array} _oData\n * @returns {string}\n */\nexport const fRenderHUD = function (_oData, _oSettings) {\n    if (_oSettings.log) {\n        console.log('fRenderHUD: ', _oData)\n    }\n\n    const oCURRENT = _oData.CURRENT.data[0]\n    const sIconName = fGetWeatherIcon(oCURRENT)\n\n    const template = `<header\n        id=\"hud\" class=\"c-hud\" data-temp=\"${fTempDataPt(\n            fClean(oCURRENT.temp)\n        )}\">\n            <h3>\n                <img class=\"weather-icon\" alt=\"\" src=\"./svg/icons/weather/svg/${sIconName}.svg\" />\n                <span aria-hidden=\"true\">{{temp}}</span>\n                </h3>\n                <ul class=\"unstyled\">\n                <li aria-hidden=\"true\">{{now}} {{weather_description}}</li>\n                <li hidden>{{aira_weather_description}}</li>\n                <li>{{city}}, {{country}}</li>\n            </ul>\n        </header>\n        `\n    return fHUDstr(template, _oData, _oSettings)\n}\n","import * as Convert from '../_conversions'\nimport * as Dates from '../_datetime'\nimport * as Icons from '../_icons'\nimport * as Scales from '../_scales'\nimport { fClean } from '../_helpers'\n\n/**\n * Renders individual upcoming forecast li elements\n *\n * @param {object} _oForecast\n * @param {object} _oSettings\n * @returns {string}\n */\nconst fRenderForecastList = function (_oForecast, _oSettings) {\n    console.log('fRenderForcast: ', _oForecast)\n    console.log('_oSettings: ', _oSettings)\n\n    const days = Object.keys(_oForecast)\n    return days\n        .map(function (el) {\n            return `<li data-temp=\"${Scales.fTempDataPt(\n                fClean(_oForecast[el].temp),\n                _oSettings\n            )}\">\n                        <header datetime=\"${fClean(\n                            _oForecast[el].datetime\n                        )}\" aria-description=\"The forecast for\">${Dates.fGetWeekday(fClean(_oForecast[el].datetime))} ${Dates.fGetDayOrdinal(fClean(_oForecast[el].datetime))}</header>\n                        <img class=\"weather-icon\" alt=\"${fClean(\n                            _oForecast[el].weather.description\n                        )}\" src=\"./svg/icons/weather/svg/${Icons.fGetWeatherIcon(_oForecast[el])}.svg\" />\n                        <p class=\"forecast-description\" aria-hidden=\"true\">${fClean(\n                            _oForecast[el].weather.description.toLowerCase()\n                        )}</p>\n                         <span><stong>${Convert.fTemp(\n                             fClean(_oForecast[el].high_temp),\n                             _oSettings\n                         )}</stong></span>\n                          <span>${Convert.fTemp(\n                              fClean(_oForecast[el].low_temp),\n                              _oSettings\n                          )}</span>\n\n                    </li>`\n        })\n        .join('')\n}\n\n/**\n * Renders the app's upcoming forecast section\n *\n * @param {object} _oForecast\n * @returns {string}\n */\nexport const fRenderForecast = function (_oForecast, _oSettings) {\n    return `\n        <div id=\"forecast\" class=\"c-forecast\" aria-description=\"The weather forecast for the next 16 days.\">\n            <ul class=\"unstyled\">\n                ${fRenderForecastList(_oForecast, _oSettings)}\n            </ul>\n        </div>\n        `\n}\n","import * as Icons from '../_icons'\nimport * as Moon from '../_moonPhases'\nimport * as Scales from '../_scales'\nimport { fDetsStr } from '../_strings'\nimport { fClean } from '../_helpers'\n\n/**\n * Renders the app's details secection\n *\n * @param {object} _oData\n * @param {object} _oSettings\n * @returns {string}\n */\nexport const fRenderDetails = function (_oData, _oSettings) {\n    const oCURRENT = _oData.CURRENT.data[0]\n    const iconCloud = Icons.fGetCloudCoverIcon(oCURRENT.clouds)\n    const oMoon = Moon.fPhase(oCURRENT.obj_time, _oSettings)\n    const oIcons = _oSettings.icon\n\n    const template = `\n        <div id=\"details\" class=\"c-details\">\n            <ul class=\"unstyled\">\n                <li class=\"c-feels-like\">\n                    <span class=\"left-col\">{{feels_like}} {{app_temp}}</span>\n                    ${Icons.fSetStringElAttrs(_oSettings.icon.sThermometer, {\n                        class: 'inline-icon',\n                        data: {\n                            temp: Scales.fTempDataPt(fClean(oCURRENT.app_temp)),\n                        },\n                    })}\n                </li>\n                ${\n                    oCURRENT.uv\n                        ? `<li class=\"c-uv-index\">\n                            <span class=\"left-col\">{{uv}} {{uv_index}}</span>\n                            ${Icons.fSetStringElAttrs(\n                                _oSettings.icon.sSunnyDay,\n                                {\n                                    class: 'inline-icon',\n                                    data: {\n                                        uv: Scales.fUvDataPt(\n                                            fClean(oCURRENT.uv),\n                                            _oSettings\n                                        ),\n                                    },\n                                }\n                            )}\n                          </li>`\n                        : ''\n                }\n                <li class=\"c-cloud-cover\">\n                    <span class=\"left-col\">{{cloud}} {{cloud_percent}}</span>\n                    ${iconCloud[2]}\n                </li>\n                ${\n                    oCURRENT.snow\n                        ? `<li>\n                            <span class=\"left-col\">{{snow}} {{snow_percip}}</span>\n                            ${oIcons.sSnow}\n                          </li>`\n                        : ''\n                }\n                <li class=\"c-precipitation\">\n                    <span class=\"left-col\">{{rain}} {{rain_percip}}</span>\n                    ${oIcons.sRaindrop}\n                </li>\n                <li class=\"c-windspeed\" aria-description=\"{{aira_winds}} \">\n                    <span class=\"left-col\">\n                        {{wind}} {{wind_speed}}<span aira-hidden>&nbsp;|&nbsp;</span><span hidden>{{aira_winds_join}}</span>{{wind_direction}}\n                    </span>\n                    <span class=\"inline-icon\">\n                        ${Icons.fSetStringElAttrs(oIcons.sWindDirection, {\n                            style: `transform: rotate(${fClean(\n                                oCURRENT.wind_dir + 180\n                            )}deg)`,\n                        })}\n                        ${oIcons.sWind}\n                    </span>\n                </li>\n                <li class=\"c-visibility\">\n                    <div class=\"visibility-wrap\">\n                        <span class=\"left-col\">{{vis}} {{vis_distance}}</span>\n                        ${oIcons.sBinoculars}\n                    </div>\n                    <div class=\"scale\" aria-hidden=\"true\"><div class=\"distance\"></div></div>\n                </li>\n                <li class=\"c-sun-rise-set\">\n                    <span class=\"left-col\">{{sun_rise_set}} {{sun_rise}} | {{sun_set}}</span>\n                    ${oIcons.sSunrise}\n                </li>\n                <li class=\"c-moonphase\">\n                    <span class=\"left-col\">{{moon}} ${oMoon.name}</span>\n                    <img class=\"inline-icon moon\"\n                        alt=\"\"\n                        height=\"25\" width=\"25\"\n                        src=\"./svg/icons/moon/svg/${oMoon.phase}.svg\"/>\n                </li>\n            </ul>\n        </div>`\n    return fDetsStr(template, _oData, _oSettings)\n}\n","/**\n * https://gist.github.com/endel/dfe6bb2fbe679781948c#gistcomment-2811037\n *\n * @param {Date object || date string} Date Object or String with valid formatting to make date object from.\n * @returns {object} Moon phase object\n */\nexport const fPhase = function (date, _oSettings) {\n    const Moon = {\n        phases: [\n            'new',\n            'waxing-crescent',\n            'first-quarter',\n            'waxing-gibbous',\n            'full',\n            'waning-gibbous',\n            'third-quarter',\n            'waning-crescent',\n        ],\n        phase: function (year, month, day) {\n            let c = 0\n            let e = 0\n            let jd = 0\n            let b = 0\n\n            if (month < 3) {\n                year--\n                month += 12\n            }\n\n            ++month\n            c = 365.25 * year\n            e = 30.6 * month\n            jd = c + e + day - 694039.09 // jd is total days elapsed\n            jd /= 29.5305882 // divide by the moon cycle\n            b = parseInt(jd) // int(jd) -> b, take integer part of jd\n            jd -= b // subtract integer part to leave fractional part of original jd\n            b = Math.round(jd * this.phases.length) // scale fraction from 0-8 and round\n\n            if (b >= 8) b = 0 // 0 and 8 are the same so turn 8 into 0\n            return { phase: b, name: Moon.phases[b] }\n        },\n    }\n\n    // if no date, create date based on current system date\n    date = date || new Date()\n\n    // if provided a date, try to make a new Date object\n    date = date instanceof String ? new Date(date) : date\n\n    // test our date object\n    if (!date || typeof date.getMonth !== 'function') {\n        if (_oSettings.debug) {\n            console.error(\n                `fMoonPhase provided invalid date strings: year: ${date.year}, month: ${date.month}, day: ${date.day}`\n            )\n        }\n    }\n\n    const yyyy = date.getFullYear()\n    const mm = date.getMonth() + 1 // 0 indexed\n    const dd = date.getDate()\n\n    const oMoonPhase = Moon.phase(yyyy, mm, dd)\n\n    if (_oSettings.debug) {\n        console.log('fMoonPhase result: ', oMoonPhase)\n    }\n\n    return oMoonPhase\n}\n","/**\n * Toggle user-color-scheme.\n *\n * @author bnjmnrsh@gmail.com\n */\nexport const ThemeToggle = (function () {\n    /**\n     * Constructor object\n     *\n     * @constructor\n     * @param {*} options\n     * @returns\n     */\n    const Constructor = function (options = {}) {\n        //\n        // Settings & Defaults\n        //\n        const defaults = {\n            targetNode: '#theme-toggler',\n            STORAGE_KEY: 'user-color-scheme',\n            COLOR_MODE_KEY: '--color-mode',\n        }\n        // Merge user options into defaults\n        const settings = Object.assign({}, defaults, options)\n\n        //\n        // Varriables\n        //\n\n        const nThemeToggel = document.querySelector(settings.targetNode)\n\n        //\n        // Private Methods\n        //\n\n        /**\n         * Test if a document property value has been set.\n         * https://piccalil.li/tutorial/get-css-custom-property-value-with-javascript/\n         *\n         * @param {string} propKey\n         * @returns {string} dark || light\n         */\n        const fGetCSSCustomProp = function (propKey) {\n            let response = getComputedStyle(\n                document.documentElement\n            ).getPropertyValue(propKey)\n            if (response.length) {\n                response = response.replace(/\"/g, '').trim()\n            }\n            return response\n        }\n\n        /**\n         * Get the last saved value from local storage, or System prefers-color-scheme\n         *\n         * @param {string} STORAGE_KEY\n         * @returns {string} light || dark\n         */\n\n        const fRetreiveStoredColorScheme = function () {\n            let sCurrentSetting = localStorage.getItem(settings.STORAGE_KEY)\n\n            switch (sCurrentSetting) {\n                case null:\n                    sCurrentSetting =\n                        fGetCSSCustomProp(settings.COLOR_MODE_KEY) === 'dark'\n                            ? 'dark'\n                            : 'light'\n                    // Set to localStorage\n                    localStorage.setItem(settings.STORAGE_KEY, sCurrentSetting)\n                    break\n                case 'light':\n                    sCurrentSetting = 'light'\n                    break\n                case 'dark':\n                    sCurrentSetting = 'dark'\n                    break\n            }\n\n            return sCurrentSetting\n        }\n\n        /**\n         * Apply data-user-color-scheme to document.\n         *\n         * @param {string} passedSetting\n         */\n        const fApplyDocumentColorScheme = function (sColorSetting) {\n            const sCurrentSetting =\n                sColorSetting || localStorage.getItem(settings.STORAGE_KEY)\n\n            if (sCurrentSetting) {\n                document.documentElement.setAttribute(\n                    'data-user-color-scheme',\n                    sCurrentSetting\n                )\n                // Set to localStorage\n                localStorage.setItem(settings.STORAGE_KEY, sCurrentSetting)\n            }\n        }\n\n        const fToggleColorScheme = function () {\n            const sCurrentSetting = fRetreiveStoredColorScheme()\n\n            switch (sCurrentSetting) {\n                case 'light':\n                    fApplyDocumentColorScheme('dark')\n                    nThemeToggel.toggleAttribute('aria-pressed')\n                    break\n                case 'dark':\n                    fApplyDocumentColorScheme('light')\n                    nThemeToggel.toggleAttribute('aria-pressed')\n                    break\n            }\n        }\n\n        /**\n         * Update the aria-pressed state of the button\n         *\n         * @param {string} currentSetting\n         */\n        const fApplyButtonState = function (currentSetting) {\n            if (currentSetting === 'dark') {\n                nThemeToggel.setAttribute('aria-pressed', 'true')\n            } else if (currentSetting === 'light') {\n                nThemeToggel.removeAttribute('aria-pressed')\n            }\n        }\n\n        /**\n         * Add event listeners for clicks and system changes to prefers-color-scheme\n         */\n        const fAddEventListeners = function () {\n            // Detect prefers-color-scheme system preference changes\n            window\n                .matchMedia('(prefers-color-scheme: dark)')\n                .addEventListener('change', function (e) {\n                    if (e.matches) {\n                        fApplyDocumentColorScheme('dark')\n                        fApplyButtonState('dark')\n                    } else {\n                        fApplyDocumentColorScheme('light')\n                        fApplyButtonState('light')\n                    }\n                })\n\n            // Capture clicks on the toggle\n            document.addEventListener('click', function (e) {\n                if (e.target.id === nThemeToggel.id) {\n                    fToggleColorScheme()\n                }\n            })\n        }\n\n        //\n        // Public APIs\n        //\n        const publicAPIs = {}\n\n        publicAPIs.init = function () {\n            if (!nThemeToggel) {\n                console.warn(\n                    'theme toggel button not found, node:',\n                    nThemeToggel\n                )\n                return\n            } else {\n                // Enable the button\n                nThemeToggel.removeAttribute('disabled')\n            }\n\n            // Add event listeners\n            fAddEventListeners()\n\n            // Establish toggle/theme state based on system and last pref saved in localStorage\n            fApplyDocumentColorScheme(fRetreiveStoredColorScheme())\n            fApplyButtonState(fRetreiveStoredColorScheme())\n\n            console.log(\n                'first run, curent setting: ',\n                localStorage.getItem(settings.STORAGE_KEY)\n            )\n        }\n\n        //\n        // Return the Public APIs\n        //\n        return publicAPIs\n    }\n\n    //\n    // Return the Constructor\n    //\n\n    return Constructor\n})()\n","import * as Queries from './_queries'\nimport * as Scales from './_scales'\n\nimport { fRenderHUD } from './components/_hud'\nimport { fRenderForecast } from './components/_forecast'\nimport { fRenderDetails } from './components/_details'\nimport { fRenderErrors } from './components/_errors'\nimport { ThemeToggle } from './_darkmode-toggle'\n\n/**\n * The Weather Service\n *\n * @author bnjmnrsh@gmail.com\n *\n * @param {object} [_oSettings={}]\n */\n\nconst weatherApp = function (_oSettings = {}) {\n    document.documentElement.classList.remove('no-js')\n\n    const _oDefaults = {\n        target: '#app',\n        units: 'M',\n        debug: false,\n        dev: false,\n    }\n\n    // Merge settings with defaults\n    _oSettings = Object.assign(_oDefaults, _oSettings)\n\n    // API urls\n    const sIpapiLocationApi = 'https://ipapi.co/json/'\n    let sWeatherApi = `https://weatherserv.bnjmnrsh.workers.dev/?`\n\n    if (_oSettings.dev === true) {\n        sWeatherApi = `${sWeatherApi}&DEV=true`\n    }\n\n    // DOM Target\n    const nApp = document.querySelector(_oSettings.target)\n\n    // SVGs are staged in HTML for details section,\n    // the remainder of images are inlined(except Cloudcover & Moon, loaded dynamically)\n    const nIcons = document.querySelector('#svgs')\n\n    _oSettings.icon = {\n        // degrees/compass inline\n        sWind: nIcons.querySelector('.svg-wi-strong-wind').outerHTML,\n        sThermometer: nIcons.querySelector('.svg-wi-thermometer').outerHTML,\n        sWindDirection: nIcons.querySelector('.svg-wi-wind-deg').outerHTML,\n        sSnow: nIcons.querySelector('.svg-wi-snow').outerHTML,\n\n        // cloud lodaded dynamically\n        sRaindrop: nIcons.querySelector('.svg-wi-raindrop').outerHTML,\n        sBinoculars: nIcons.querySelector('.svg-binoculars').outerHTML,\n        sSunrise: nIcons.querySelector('.svg-wi-sunrise').outerHTML,\n        sSunset: nIcons.querySelector('.svg-wi-sunset').outerHTML,\n        sSunnyDay: nIcons.querySelector('.svg-wi-day-sunny').outerHTML,\n        // moon phases are loaded as img pathsL: <img src=\"./svg/icons/moon/svg/${oMoon.phase}.svg\">\n    }\n\n    /**\n     * Build the UI\n     *\n     * @param {array} data\n     */\n    const fBuildUI = function (_oData) {\n        nApp.classList.remove('loading')\n        nApp.innerHTML =\n            fRenderHUD(_oData, _oSettings) +\n            fRenderDetails(_oData, _oSettings) +\n            fRenderForecast(_oData.DAILY.data, _oSettings)\n\n        // Adjust the visibility 'fogg' bar in the details section\n        Scales.fSetVisabilityScale(_oData.CURRENT.data[0].vis)\n    }\n\n    /**\n     * Init\n     */\n    const fInit = async function () {\n        try {\n            const loc = await Queries.fGetLocation(\n                sIpapiLocationApi,\n                _oSettings\n            )\n            const _oWeather = await Queries.fGetWeather(\n                loc,\n                sWeatherApi,\n                _oSettings\n            )\n\n            if (_oSettings.debug) {\n                console.log('fGetLocation response:', loc)\n                console.log('fGetWeather response:', _oWeather)\n            }\n\n            fBuildUI(_oWeather)\n        } catch (e) {\n            console.error('init error: ', e)\n            nApp.innerHTML = fRenderErrors(e)\n        }\n    }\n    fInit()\n\n    // Enable ThemeToggle\n    ThemeToggle().init()\n}\n\n// with debugging and Imperial Units\nconst settings = {\n    units: 'I',\n    debug: true,\n    dev: false,\n}\n\nweatherApp(settings)\n","/**\n * Render errors to the user\n *\n * @param {obj} err\n * @returns\n */\nexport const fRenderErrors = function (err) {\n    return `<div id=\"ohnos\" class=\"c-screen errors\">\n                <h3><span aria-hidden=\"true\">⥀.⥀</span><br>Oh Nooos!</h3>\n                <p class=\"sr-only\">There has been a crittical error:</p>\n                    <div class=\"errors-wrap\">\n                        ${err.stack ? '<code>' + err.stack + '</code>' : ''}\n                        ${\n                            err.status\n                                ? '<code>' +\n                                  err.statusText +\n                                  ': ' +\n                                  err.status +\n                                  '</code>'\n                                : ''\n                        }\n                    </div>\n                <img alt=\"\" class=\"screen-icon errors-icon\" src=\"./svg/icons/weather/svg/wi-alien.svg\"/>\n            </div>`\n}\n"],"names":["fClean","sDirty","temp","document","createElement","innerHTML","innerText","fGetLocation","async","sIpapiLocationApi","_oSettings","navigator","geolocation","debug","console","log","oOptions","enableHighAccuracy","timeout","maximumAge","pResp","Promise","resolve","reject","getCurrentPosition","coords","fGeoLocApi","e","warn","fetch","then","ok","json","fIPapi","fGetWeather","oLoc","sWeatherApi","urlBase","sApiQuery","latitude","longitude","sCity","sState","sCountry","city","state","country_code","fAssembledQuery","fTempDataPt","nTemp","sTempScale","parseFloat","fUvDataPt","nUV","sUVclass","oWeather","200","201","202","230","231","232","233","300","301","302","500","501","502","511","520","521","522","600","602","610","611","612","622","623","700","711","721","731","741","751","800","801","802","803","804","900","oCloudCover","0","1","2","3","4","5","fGetWeatherIcon","oData","iHour","iCode","sPod","Object","prototype","hasOwnProperty","call","parseInt","weather","code","fSetStringElAttrs","sEl","props","nEl","trim","nTarget","querySelector","setAttribute","style","classList","add","class","keys","data","length","map","key","fPercip","nMeasure","units","toFixed","fTemp","withUnits","converted","fAddTimeToDateString","sDate","replace","sNewDate","Date","getMonth","Error","fGetLocalTime","sTime24","oDate","aTime","split","getUTCHours","getUTCMinutes","aDate","getUTCFullYear","getUTCMonth","getUTCDate","oDateUtc","UTC","getHours","getMinutes","includes","sHours","minutes","match","slice","fTime","padStart","_oTextStrings","en","now","aira_now","feels_like","uv","cloud","snow","percip","wind","aira_winds","aira_winds_join","vis","sun","moon","fDetsStr","string","_oData","_oStrings","oCURRENT","CURRENT","Convert.fTemp","app_temp","clouds","Convert.fPercip","precip","Convert.fKmPerHour","wind_spd","wind_cdir","Convert.fKm","Dates.fGetLocalTime","ob_time","sunrise","sunset","fRenderHUD","sIconName","description","toLowerCase","city_name","fHUDstr","fRenderForecastList","_oForecast","el","Scales.fTempDataPt","datetime","toLocaleString","weekday","Dates.fGetWeekday","getDate","Dates.fGetDayOrdinal","Icons.fGetWeatherIcon","high_temp","low_temp","join","fRenderDetails","iconCloud","iCoverage","icons","aIconData","push","outerHTML","Icons.fGetCloudCoverIcon","oMoon","date","Moon","phases","phase","year","month","day","c","jd","b","Math","round","this","name","String","error","yyyy","getFullYear","mm","dd","oMoonPhase","Moon.fPhase","obj_time","oIcons","icon","template","Icons.fSetStringElAttrs","sThermometer","sSunnyDay","Scales.fUvDataPt","sSnow","sRaindrop","sWindDirection","wind_dir","sWind","sBinoculars","sSunrise","ThemeToggle","options","settings","assign","targetNode","STORAGE_KEY","COLOR_MODE_KEY","nThemeToggel","fRetreiveStoredColorScheme","sCurrentSetting","localStorage","getItem","propKey","response","getComputedStyle","documentElement","getPropertyValue","fGetCSSCustomProp","setItem","fApplyDocumentColorScheme","sColorSetting","fApplyButtonState","currentSetting","removeAttribute","fAddEventListeners","window","matchMedia","addEventListener","matches","target","id","toggleAttribute","fToggleColorScheme","publicAPIs","init","remove","dev","nApp","nIcons","sSunset","fBuildUI","fRenderForecast","DAILY","distance","setProperty","Scales.fSetVisabilityScale","loc","Queries.fGetLocation","_oWeather","Queries.fGetWeather","err","stack","status","statusText","fInit","weatherApp"],"mappings":"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"}